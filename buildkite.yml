
env:
  FORCE_COLOR: '1'

steps:
  - command: |-
      npm ci
      npm run prettier
      npm run tslint
      npm run build
      npm run build:all
    label: ':typescript:'

  - command: |-
      npm ci
      npm run cover
      ./node_modules/.bin/nyc report --reporter json
      bash <(curl -s https://codecov.io/bash) -t 1cdb8844-3dd0-43d7-959c-720e979d7775
    label: ':mocha:'

  - wait

  - command: |-
      npm ci
      npm run build
      npm run semantic-release
    branches: master
    label: ':npm:'
